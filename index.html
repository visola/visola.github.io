<!DOCTYPE html><html lang="en"><head><link href="https://fonts.googleapis.com/css?family=Hind+Siliguri:600,300|Droid+Sans+Mono" rel="stylesheet" type="text/css"><link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/bootstrap/3.3.5/css/bootstrap.min.css"><link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/highlight.js/8.9.1/styles/solarized_light.min.css"><link type="text/css" rel="stylesheet" href="/css/main.css"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-70095095-1', 'auto');
ga('send', 'pageview');</script><title>Welcome to Vinny's Blog</title></head><body><div id="content"><h2><a name="RequireJS and Backbone on a Single Page Application - Part 2" href="2015/11/04/RequireJS and Backbone on a Single Page Application - Part 2.html">RequireJS and Backbone on a Single Page Application - Part 2</a></h2><p class="published">Published on 2015-11-04</p><p>A Backbone app has three main pieces: routes, models/collections and views. In this part of the two posts I&#39;m going to explain how to setup and use Backbone in a single page application while separating your code in a way that it will be simple to maintain and add new features.</p>
<p>The first part of this tutorial lives <a href="http://wp.me/p2iway-6p">here</a>. The code for this post lives in my Blog&#39;s GitHub repository under <a href="https://github.com/visola/bearprogrammer-examples/tree/master/require-js-backbone">require-js-backbone</a>.</p>
<h2><a name="RequireJS and Backbone on a Single Page Application - Part 1" href="2015/11/04/RequireJS and Backbone on a Single Page Application - Part 1.html">RequireJS and Backbone on a Single Page Application - Part 1</a></h2><p class="published">Published on 2015-11-04</p><p>Building single page applications isn&#39;t easy. As the app grows and gets more complex your Javascript code gets harder to maintain and duplicate logic start spreading all over the place. Breaking your code in well defined and self contained small modules help to keep the complexity low and organize the logic in an encapsulated and predictable way. But to do that it means that you now need some kind of dependency management system in place.</p>
<p><a href="http://requirejs.org/">RequireJS</a> helps you with that. With it, creating new modules is as easy as calling a function and declaring dependency is as easy as passing an argument to that function.</p>
<p>But managing dependencies is just part of the problem. You still have a lot of code to make requests to your REST APIs, handle the rendering of the content on the page and user interactions.</p>
<p>Enter <a href="http://backbonejs.org/">Backbone</a>, a Javascript framework that has many of those basic features every app needs. It also helps with the task of organizing your code and keeping clear separation of concerns.</p>
<p>In these two blog posts (the one you&#39;re reading and <a href="http://wp.me/p2iway-6M">this</a>) I&#39;m going to show a simple example of how to configure and use these two frameworks together in a way that makes it really easy to build well separated and reusable components. On the first post I&#39;ll talk about how RequireJS works and how to configure and use it. On the second post I&#39;m going to show how to add backbone to the mix and how to organize the code in a way that it&#39;s easy to maintain and extend.</p>
<p>The code for this post lives in my Blog&#39;s GitHub repository under <a href="https://github.com/visola/bearprogrammer-examples/tree/master/require-js-backbone">require-js-backbone</a>.</p>
<h2><a name="Testing a web application with Gretty, Cucumber and Selenium" href="2014/09/03/Testing a web application with Gretty, Cucumber and Selenium.html">Testing a web application with Gretty, Cucumber and Selenium</a></h2><p class="published">Published on 2014-09-03</p><p>The code used in this post is a complete web application built with Spring WebMVC, Spring Data and Spring Security. It contains a lot more than what is explained here and I hope to come back to it in later posts. The code can be found in my <a href="https://github.com/visola/bearprogrammer-examples/tree/master/complete-to-do">Github repository</a>.</p>
<p>For this post I&#39;ll be focusing on how you can test a web application using Cucumber and Selenium. I&#39;ll be using the <a href="https://github.com/akhikhl/gretty/">Gretty</a> plugin to start a web container during the build. I&#39;ve picked this plugin because of the built-in setup for integration tests.</p>
<h2><a name="Building with Gradle" href="2014/05/18/Building with Gradle.html">Building with Gradle</a></h2><p class="published">Published on 2014-05-18</p><p>Gradle is a build system that was build from the lessons learned from Ant and Maven. Similarly with Ant, where you have a XML namespace to write build scripts, Gradle is a <a href="http://en.wikipedia.org/wiki/Domain-specific_language">DSL</a> on top of Groovy that helps you write build scripts. But it goes further with many plugins and conventions (like Maven) that make it possible to get a build up and running with just a few lines of Groovy.</p>
<p>A Gradle build starts with a <code>build.gradle</code> file. This file contains plugins that you apply to your build, dependencies that your project need to compile, package and run, repositories where your dependencies will be loaded from, plugin configurations and custom tasks. All those are written with a cleverly build model that makes your build scripts readable, maintainable and easy to extend.</p>
<p>In this post I&#39;ll cover the gradle build from the three sample projects that I worked on to compare the <a href="http://bearprogrammer.com/2013/12/17/build-tools-for-java">three mainstream Java build tools</a>. The code for this post can be found in my <a href="https://github.com/visola/bearprogrammer-examples/tree/master/build-tools/sample-gradle">github repository</a>.</p>
<h2><a name="Building with Ant" href="2014/03/22/Building with Ant.html">Building with Ant</a></h2><p class="published">Published on 2014-03-22</p><p>Ant has been around for a while now (first released in 2000) and it can be compared with a scripting language written in XML. XML tags are translated to Java objects and executed calling methods in the objects created. The following image illustrates the relationship between the XML and the Java objects:</p>
<p><img src="/img/blog/ant-xml-to-java.png" alt="Ant xml to java"></p>
<p>A project built with Ant begins with a <code>build.xml</code> file where you describe all targets. A target is a set of tasks and can depend on other targets. When you run an Ant build, you tell it what target you want to execute. Ant then creates a target dependency tree for your project, calculates the least amount of targets necessary to get to the requested target and starts executing them from the target that has no dependencies. The build is considered finished when the requested target gets executed or some target failed.</p>
<p>In this post I&#39;ll explain the two things that I found not so well documented and lacking clear explanation on how to do it: dependency management and code coverage measurement with Jacoco. This was part of the project that I worked on to compare the <a href="http://bearprogrammer.com/2013/12/17/build-tools-for-java/&quot;" title="Build tools for Java">three mainstream Java build tools</a>. The code for this post can be found in my <a href="https://github.com/visola/bearprogrammer-examples/tree/master/build-tools/sample-ant">github repository</a>.</p>
<h2><a name="Build tools for Java" href="2013/12/17/Build tools for Java.html">Build tools for Java</a></h2><p class="published">Published on 2013-12-17</p><p>More than a year ago <a href="/2012/06/03/Beginning with Maven and M2.html" title="Beginning with Maven and M2">I wrote a post about</a> how I started to use Maven to build my Java applications and how much I loved it! Things changed a lot since then and I, like many others, am moving my projects to <a href="http://www.gradle.org">Gradle</a>. In this post - and a few more to come - I&#39;ll be talking about build tools for Java and make some comparisons and explain why I moved to Gradle.</p>
<p>This content started from a recent presentation that I gave at work about build tools. The idea was to make a comparison between the three most widespread build tools for Java: <a href="http://ant.apache.org/">Ant</a>, <a href="http://maven.apache.org/">Maven</a> and Gradle. I thought it would be cool to have a project - simple but with some complex dependencies - built using all three of them. With that it would be easy to compare, apples to apples, how each one works and what are the advantages and disadvantages of each one.</p>
<h2><a name="DAO, Repository and Service, digging deeper" href="2012/11/12/DAO, Repository and Service, digging deeper.html">DAO, Repository and Service, digging deeper</a></h2><p class="published">Published on 2012-11-12</p><p>The first time I heard the term <em>service layer</em> I was intrigued by it because I always used a <em>Data Access Object</em> to access  my data. I thought it was just a <em>new way to refer to the same thing</em>. Of course I was wrong. A couple of years later I started to use Spring Data and again I was confronted with the <em>Repository</em> a <em>different name for the same thing</em>, at least that was what I thought, and again, I was wrong.</p>
<p>I&#39;m not the kind of person that settles down until I get a complete answer for the problem, I really hate when I don&#39;t have a precise and detailed answer. That&#39;s why I decided to take some time and research deeper and write down my findings for all of you that are thinking the same way and get lost every time you need to name your data access layer objects.</p>
<p>Some may say: <em>How can you get confused about something that is clearly different?</em> If you think that, then this post is not for you, unless you want to help me review my content (what I would appreciate). But if you&#39;re like me and have been writing small (10-15 model classes) web applications you&#39;re probably standing where I am: your <em>data layer</em> has some characteristics of all three patterns.</p>
<h2><a name="Simple web MVC with servlets and JSP" href="2012/08/05/Simple web MVC with servlets and JSP.html">Simple web MVC with servlets and JSP</a></h2><p class="published">Published on 2012-08-05</p><p>A while ago a friend of mine that is starting with web development in Java asked me what is the best way to write a web application in Java if you can&#39;t understand a framework like Spring or JSF or if you just don&#39;t want to use them? Well, this project is a simple example on how to get a MVC working with a database using a singleton that will generate a data source for you.</p>
<p>As usual the code is in my <a href="https://github.com/visola/">github repository</a> under <code>simple-web-mvc</code>.</p>
<h2><a name="OSGi Maven and Servlet" href="2012/07/31/OSGi Maven and Servlet.html">OSGi Maven and Servlet</a></h2><p class="published">Published on 2012-07-31</p><p>I tried a few times before to start developing using OSGi but never had a chance to work with it in the real life so it&#39;s hard to get all the concepts to stick in my head. This post is my way to change that, meaning that I&#39;m trying to learn OSGi deeper and start getting things done using this platform.</p>
<p>The first thing I wanted to do is to have a good experience with tooling and get Maven to work for me, not against me. This post is showing a simple example on how to configure Maven to generate an OSGi bundle and how to use Declarative Services and Apache Felix Http Whiteboard to quickly deploy a simple servlet.</p>
<p>The code for this post is in my <a href="https://github.com/visola/bearprogrammer-examples">git repository</a> under the project <code>osgi-maven-example</code>.</p>
<h2><a name="Simple Caching with Spring" href="2012/07/22/Simple Caching with Spring.html">Simple Caching with Spring</a></h2><p class="published">Published on 2012-07-22</p><p>This week an old friend contacted me because he was having memory problems in one of his applications. The problem was very simple: for each user logged in, all application menus and part of the list/combo values were being added to the user session (including some images). That was used to makes things faster, to avoid going to the database multiple times and loading the data all over again.</p>
<p>The problem with that approach is that each user will have a copy of the data in memory. And in this case, it&#39;s the same data, copied over and over again. After some time, if traffic increases, the JVM will run out of memory. And the situation gets worth when users don&#39;t click the <em>logout</em> button/link, meaning that the session will get stuck until the timeout period has finished.</p>
<p>To help him I wrote a simple example - that was extended in this post - to demonstrate one approach (there are certainly many others) to cache data in a Spring application. What this example will show is how you can use an extra bean to keep the data cached and up-to-date at the same time.</p>
<p>Source code for this example is in my <a href="https://github.com/visola/bearprogrammer-examples">github repository</a> under the folder <code>simple-cache</code>.</p>
<p>This post is not about the new Cache Abstraction provided in Spring 3.1.</p>
<h2><a name="Customizing Spring Security" href="2012/07/20/Customizing Spring Security.html">Customizing Spring Security</a></h2><p class="published">Published on 2012-07-20</p><p><a href="http://static.springsource.org/spring-security/site/">Spring Security</a> is a very powerful and customizable security framework for JEE applications. This post will show how to integrate it seamlessly with your application setting up a custom login and logout.</p>
<p>You&#39;ll also learn how to add a custom filter with very specific behavior and how to integrate with <a href="http://www.springsource.org/spring-data/jpa">Spring Data</a> so that your users can be loaded from a repository and avoid all the hassle of dealing with JDBC or Hibernate.</p>
<p>The code for this example can be found in my <a href="https://github.com/visola/bearprogrammer-examples">GitHub Repository</a>. For this post, there are three projects involved: <code>root</code>, <code>spring-security-first-user</code> and <code>user-model</code>. The root project contains dependency management and the user-model can be reused for any other project involving spring security.</p>
<h2><a name="Beginning with Maven and M2" href="2012/06/03/Beginning with Maven and M2.html">Beginning with Maven and M2</a></h2><p class="published">Published on 2012-06-03</p><p>Apache Maven, in my opinion, is one of the most controversial tools around. From my experience, there are three kinds of developers today: those that never heard about Maven, those that hate it and those that can&#39;t live without it. For a long time I was in the second group and I just recently turned to the third one, and I&#39;m slowly dragging all my fellow programmers with me!</p>
<p>At first I was reluctant but then, at work, forced to make Java more efficient and develop at a faster pace, I decided to try it out (again, for the [big number here] time). But this time I was determined to make it work. I bought a book, created a bunch of test projects and learned a lot about it! Today, I can&#39;t think of starting a new project without it.</p>
<h2><a name="Bean Validation (JSR-303) and Spring MVC" href="2012/04/14/Bean Validation (JSR-303) and Spring MVC.html">Bean Validation (JSR-303) and Spring MVC</a></h2><p class="published">Published on 2012-04-14</p><p>The code for this example can be found at the <a href="https://github.com/visola/bearprogrammer-examples">blog repository in github</a>.</p>
<p>Validation in web applications normally spread through many lines of code in the client side and in the server side. JSR-303, or Bean Validation, is a standard developed to be part of JPA. It&#39;s a simple and generic way to annotate your entities with specific validation rules and have them validated by some validation engine.</p>
<p>Hibernate started with validation through annotations and JSR-303 was highly influenced by it (probably completely driven by it). Part of JEE 6, for those who are not using a complete JEE server (like Tomcat), the API can be found in one of Hibernate&#39;s artifact:</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-title">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>org.hibernate<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">artifactId</span>&gt;</span>hibernate-validator<span class="hljs-tag">&lt;/<span class="hljs-title">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">version</span>&gt;</span>4.2.0.Final<span class="hljs-tag">&lt;/<span class="hljs-title">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">dependency</span>&gt;</span>
</code></pre>
<p>Spring MVC 3 added full support for validation using JSR-303. So the same validation that you use in the persistence layer can also be used in your web layer, at least in the server side. This example will show a simple application that uses Bean Validation to validate a bean before saving it.</p>
<h2><a name="What is and how to use @ModelAttribute" href="2012/04/11/What is and how to use @ModelAttribute.html">What is and how to use @ModelAttribute</a></h2><p class="published">Published on 2012-04-11</p><p>You can get the code for this post in the <a href="https://github.com/visola/bearprogrammer-examples">blog repository in github</a>.</p>
<p>Spring MVC is one of the easiest and most powerful MVC framework to build web applications in Java. With all the features that it has available it is impossible to know everything. But in most cases, when you ask the question: &quot;Can Spring MVC do [put something complex and unexpected here]?&quot; the answer is yes. And when it can&#39;t, the answer is: it has a place for you to hook your code in and do whatever you need.</p>
<p>Recently, having a conversation with one of my friends that is using Spring MVC and Spring Data in a new project for the company he works, he stumbled into the @ModelAttribute annotation and asked me if I knew how to use it. My answer was that I&#39;ve never heard about it before but I was going to take a look into it. What I found was a solution to an old problem that I had but I&#39;ve never thought that Spring MVC would have a solution for it.</p>
<p>The problem I faced in a recent application I worked on was that I had a relatively large entity with a few sub-entities in it. When I build the form in the JSP page to send to server, I had to put in the form all kinds of information in hidden fields so that my entity didn&#39;t get updated by mistake with a null value (like a created or last updated field). And I still needed to do more because I had all those sub-entities that needed to be loaded and correctly filled (or put all fields in the form, even those I wouldn&#39;t need in the page). The result was a large HTML with unnecessary data being passed around and unnecessary complex code in the controller to process all those details.</p>
<p>The @ModelAttribute exist to solve this kind of problem. The way it works is that you can annotate one (or more) of the methods in your controller as a model attribute, meaning that it will contribute some attribute to the model. In this post I&#39;m going to show how to use it and what are the details associated with it.</p>
<h2><a name="Simple Spring Data Example" href="2012/03/26/Simple Spring Data Example.html">Simple Spring Data Example</a></h2><p class="published">Published on 2012-03-26</p><p>As my first post I&#39;m going to do a very simple command line application that manages one entity called Person. The purpose of this example is to demonstrate how powerful the new Spring Data projects family are.</p>
</div></body></html>